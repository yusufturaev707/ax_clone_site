{% load i18n %}
{% load static %}

<div class="modal fade viewArticleFont" role="dialog" id="view_test_modal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Test</h3>
                <a href="#" class="close" data-dismiss="modal">&times;</a>
            </div>
            <div class="modal-body" id="textToCopy">
                {% if is_english %}
                    <pre style="font-size: 14px">{{ data }}</pre>
                {% else %}
                    <h2 class="text text-danger">{% trans "Faqat INGLIZ tili uchun ishlaydi!" %}</h2>
                {% endif %}
{#                <h3 class="text text-center text-success">Tez orada ishga tushadi..!</h3>#}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-success" onclick="copyToClipboard()"
                            id="copyToClipboard"><i class="fa fa-copy"></i></button>
{#                {% if not is_empty %}#}
                    <a href="{% url 'delete_test' id %}" class="btn btn-outline-danger"><i class="fa fa-trash"></i></a>
{#                {% endif %}#}
                <button type="button" class="btn btn-outline-dark" data-dismiss="modal"><i class="fa fa-window-close"></i></button>
            </div>
        </div>
    </div>
</div>
<script>
    function copyToClipboard() {
        let textToCopy = document.getElementById("textToCopy");
        let range = document.createRange();
        range.selectNode(textToCopy);
        window.getSelection().removeAllRanges(); // Clear previous selection
        window.getSelection().addRange(range);
        document.execCommand("copy");
        window.getSelection().removeAllRanges(); // Clear selection after copy
        $('#copyToClipboard').css('disabled', 'true')
        swal({
            title: 'Copied!',
            icon: 'success',
            timer: 1000,
        });
    }
</script>